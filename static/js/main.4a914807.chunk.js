(this["webpackJsonpreact-firestore-template"]=this["webpackJsonpreact-firestore-template"]||[]).push([[0],{22:function(e,t,a){},31:function(e,t,a){e.exports=a(81)},36:function(e,t,a){},37:function(e,t,a){},45:function(e,t,a){},56:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},69:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(25),r=a.n(l),i=(a(36),a(5)),o=(a(37),a(4)),s=(a(45),a(17)),m=a.n(s);m.a.initializeApp({apiKey:"AIzaSyDWKSZv9C25MZmJoaD-F1TCSb07FWuq2Hg",authDomain:"react-blog-firebase-2e015.firebaseapp.com",databaseURL:"https://react-blog-firebase-2e015.firebaseio.com",projectId:"react-blog-firebase-2e015",storageBucket:"react-blog-firebase-2e015.appspot.com",messagingSenderId:"908821575395",appId:"1:908821575395:web:dc6b6d815745266aacb7d6",measurementId:"G-LP179V7VX2"});var u=m.a,d=(a(56),a(22),a(9)),p=a(18),g=function(e,t){return[-(t-window.innerHeight/2)/200,(e-window.innerWidth/2)/200,1.1]},E=function(e,t,a){return"perspective(800px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg)")},f=function(e){var t=Object(p.b)((function(){return{xys:[0,0,1],config:{mass:50,tension:350,friction:40}}})),a=Object(i.a)(t,2),n=a[0],l=a[1];return c.a.createElement("div",{className:"project"},e.data.defaultImage&&c.a.createElement(p.a.img,{className:"project-overview-img",onMouseMove:function(e){var t=e.clientX,a=e.clientY;return l({xys:g(t,a)})},onMouseLeave:function(){return l({xys:[0,0,1]})},style:{transform:n.xys.interpolate(E)},onClick:function(t){console.log("setting top",window.scrollY),e.setTop((function(e){return e+Math.round(window.scrollY)})),Object(o.c)("/firebase-template/projects/"+e.id)},src:e.data.defaultImage,alt:"default"}),c.a.createElement("div",{className:"display-title"},e.data.title),c.a.createElement(o.a,{className:"view-project",to:"/firebase-template/projects/"+e.id},"View project"),e.signedIn&&c.a.createElement("div",{className:"admin-icons"},c.a.createElement(o.a,{to:"/firebase-template/edit/"+e.id},c.a.createElement(d.a,null)),c.a.createElement(d.c,{onClick:function(){window.confirm("sure?")&&u.firestore().collection("projects").doc(e.id).delete().then((function(e){return console.log("Document was deleted")})).catch((function(e){return console.log(e)}))}})))},h=a(28),b=a.n(h),v=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),l=a[0],r=a[1],s=Object(n.useState)(0),m=Object(i.a)(s,2),p=m[0],g=m[1];Object(n.useEffect)((function(){console.log("fetch"),u.firestore().collection("projects").orderBy("orderNr").onSnapshot((function(e){return r(e.docs)}))}),[]),Object(n.useEffect)((function(){console.log("trying to scroll",p),window.scrollTo(0,p)}),[p]);return c.a.createElement(c.a.Fragment,null,e.signedIn&&c.a.createElement("div",{className:"add"},c.a.createElement(d.b,{className:"icons",onClick:function(){u.firestore().collection("projects").add({title:"0 New project",timestamp:u.firestore.FieldValue.serverTimestamp()}).then((function(e){return Object(o.c)("/firebase-template/edit/"+e.id)}))}})),l?c.a.createElement(c.a.Fragment,null,l.map((function(t){return c.a.createElement(f,{key:t.id,id:t.id,setTop:g,data:t.data(),signedIn:e.signedIn})}))):c.a.createElement(b.a,null))},N=(a(61),function(){return c.a.createElement("main",{className:"about"},c.a.createElement("div",{className:"contact-title"},"Contact"),c.a.createElement("div",{className:"contactInfo"},c.a.createElement("div",{className:"contact-name"},"Eivind Madsen Pham"),c.a.createElement("div",{className:"contact-description"},"I'm currently a designstudnet with passion for digital design and conceptual thinking"),c.a.createElement("div",{className:"contact-phone"},"+47 908 96 870"),c.a.createElement("div",{className:"contact-email"},"eivindmpham@gmail.com")))}),j=(a(62),a(10)),I=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],r=a[1];return c.a.createElement("div",{className:"header-container"},c.a.createElement(j.b,{className:"burger-menu edit-icons",size:"32",onClick:function(){return r(!l)}}),c.a.createElement("header",{className:l?"visible":"",onClick:function(){return r(!1)}},c.a.createElement(o.a,{className:"logo",to:"/home"},c.a.createElement("p",null,"e | p")),c.a.createElement("div",{className:"header-right-items"},c.a.createElement(o.a,{getProps:function(e){return e.isPartiallyCurrent?{className:"active"}:null},to:"/firebase-template/projects"},"projects"),c.a.createElement("p",{className:"divider"},"|"),c.a.createElement(o.a,{to:"/firebase-template/about"},"about"))))},y=function(e){var t={login:{placeItems:"center"},loginImage:{width:"100px",borderRadius:"50%",marginBottom:"3rem",marginTop:"2rem"}};return c.a.createElement("main",{style:t.login},!e.signedIn&&c.a.createElement("button",{onClick:function(){var e=new u.auth.GoogleAuthProvider;e.addScope("profile"),e.addScope("email"),u.auth().signInWithPopup(e).catch((function(e){console.log(e)}))}},"Sign in"),e.signedIn&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"You are signed in to firebase"),c.a.createElement("p",null,"Welcome ",u.auth().currentUser.displayName),u.auth().currentUser.photoURL&&c.a.createElement("img",{style:t.loginImage,alt:"profile display",src:u.auth().currentUser.photoURL}),c.a.createElement("button",{onClick:function(){u.auth().signOut()}},"Sign Out")))},O=a(8),w=a(14),C=(a(63),a(30)),S=a.n(C),k=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),l=a[0],r=a[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),d=m[0],p=m[1],g=Object(n.useState)("defaultImage"),E=Object(i.a)(g,2),f=E[0],h=E[1];Object(n.useEffect)((function(){u.firestore().collection("projects").doc(e.id).onSnapshot((function(e){return r(e.data())}))}),[e.id]);var b=function(e){switch(e.persist(),e.target.type){case"checkbox":case"text":r((function(t){return Object(w.a)({},t,Object(O.a)({},e.target.name,e.target.value))}));break;default:r((function(t){return Object(w.a)({},t,Object(O.a)({},e.target.name,e.target.value))}))}};return c.a.createElement("main",{className:"edit"},c.a.createElement("div",null,c.a.createElement(o.a,{className:"back-button",to:"/firebase-template/projects"},c.a.createElement(j.a,{className:"back-icon"}))),l?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Edit Project : ",l.title),c.a.createElement("form",{onSubmit:function(){}},c.a.createElement("input",{onChange:b,name:"orderNr",value:l.orderNr,placeholder:"Order by number"}),c.a.createElement("p",null,"Title: "),c.a.createElement("input",{onChange:b,name:"title",value:l.title,placeholder:"Title"}),c.a.createElement("input",{onChange:b,name:"year",value:l.year,placeholder:"year"}),c.a.createElement("input",{onChange:b,name:"type",value:l.type,placeholder:"type"}),c.a.createElement("input",{onChange:b,name:"tech",value:l.tech,placeholder:"tech"}),c.a.createElement("input",{onChange:b,name:"role",value:l.role,placeholder:"role"}),c.a.createElement("input",{onChange:b,name:"website",value:l.website,placeholder:"website"}),c.a.createElement("input",{onChange:b,name:"styleguide",value:l.styleguide,placeholder:"styleguide"}),c.a.createElement("input",{onChange:b,name:"byline",value:l.byline,placeholder:"byline"}),c.a.createElement("div",{className:"checkboxes"},c.a.createElement("input",{name:"published",id:"published",type:"checkbox",onChange:b,defaultChecked:l.published})),c.a.createElement("p",null,"Description: "),c.a.createElement("textarea",{onChange:b,name:"description",value:l.description,placeholder:"description"}),c.a.createElement("p",null,"Concept: "),c.a.createElement("textarea",{onChange:b,name:"concept",value:l.concept,placeholder:"concept"}),c.a.createElement("textarea",{onChange:b,name:"conceptName",value:l.conceptName,placeholder:"concept name"}),c.a.createElement("p",null,"Target Audience: "),c.a.createElement("textarea",{onChange:b,name:"audience",value:l.audience,placeholder:"audience"}),c.a.createElement("div",{className:"project-images"},l.defaultImage&&c.a.createElement("div",null,c.a.createElement("p",{className:"imageNameIndicator"},"Default"),c.a.createElement("img",{src:l.defaultImage,alt:"default"})),l.introImage&&c.a.createElement("div",null,c.a.createElement("p",{className:"imageNameIndicator"},"Intro Image"),c.a.createElement("img",{src:l.introImage,alt:"intro"})),l.resultImage&&c.a.createElement("div",null,c.a.createElement("p",{className:"imageNameIndicator"},"Result Image"),c.a.createElement("img",{src:l.resultImage,alt:"result"}))),c.a.createElement("select",{name:"imageName",onChange:function(e){return h(e.target.value)}},c.a.createElement("option",{name:"defaultImage",value:"defaultImage"},"Default Image"),c.a.createElement("option",{name:"introImage",value:"introImage"},"Intro Image"),c.a.createElement("option",{name:"resultImage",value:"resultImage"},"Result Image")),c.a.createElement("label",null,c.a.createElement("div",{className:"uploadButton"},"upload image"),c.a.createElement(S.a,{hidden:!0,accept:"image/*",storageRef:u.storage().ref("images"),onUploadStart:function(){p("uploading image, please hold")},onUploadError:function(e){p(e)},onUploadSuccess:function(e){u.storage().ref("images").child(e).getDownloadURL().then((function(e){return r((function(t){return Object(w.a)({},t,Object(O.a)({},f,e))}))})),p("Image uploaded")},onProgress:function(e){console.log(e)}}))),c.a.createElement("button",{onClick:function(t){p("Updating project, please hold"),t.preventDefault(),u.firestore().collection("projects").doc(e.id).update(l).then((function(){return p("Project updated")})).catch((function(e){return console.log(e.message)}))}},c.a.createElement(o.a,{to:"/firebase-template/"},"Submit Changes")),c.a.createElement("p",null,d)):c.a.createElement("h2",null,"fetching..."))},x=(a(69),a(12)),T=a.n(x),D=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),l=a[0],r=a[1],s=Object(n.useState)(),m=Object(i.a)(s,2),p=m[0],g=m[1],E=Object(n.useState)(),f=Object(i.a)(E,2),h=f[0],b=f[1];return Object(n.useEffect)((function(){u.firestore().collection("projects").doc(e.id).onSnapshot((function(e){return r(e.data())}))}),[e.id]),Object(n.useEffect)((function(){u.firestore().collection("projects").orderBy("orderNr").get().then((function(t){var a=t.docs.map((function(e){return{id:e.id,title:e.data().title}})),n=a.indexOf(a.find((function(t){return t.id===e.id})));b(n+1===a.length?a[0]:a[n+1]),g(0===n?a[a.length-1]:a[n-1]),window.scrollTo(0,0)}))}),[e.id]),c.a.createElement(c.a.Fragment,null,c.a.createElement("main",{className:"project-details"},l?c.a.createElement("div",{className:"project-details-content"},c.a.createElement("div",null,c.a.createElement(o.a,{className:"back-button",to:"/firebase-template/projects"},c.a.createElement(j.a,{className:"back-icon"}))),c.a.createElement("div",null,e.signedIn&&c.a.createElement(o.a,{className:"edit-button",to:"/firebase-template/edit/"+e.id},c.a.createElement(d.a,null))),c.a.createElement("section",{className:"top-info-section"},c.a.createElement("div",{className:"project-detail-title"},l.title," "),c.a.createElement("div",{className:"info-grid"},c.a.createElement("div",{className:"description"},l.description&&T()(l.description)),c.a.createElement("div",{className:"project-list-info"},c.a.createElement("div",{className:"list-info-items"},c.a.createElement("p",{className:"tagName"},"Type"),c.a.createElement("div",{className:"year"},l.type)),c.a.createElement("div",{className:"list-info-items"},c.a.createElement("p",{className:"tagName"},"Date"),c.a.createElement("div",{className:"year"},l.year)),c.a.createElement("div",{className:"list-info-items"},c.a.createElement("p",{className:"tagName"},"Tech"),c.a.createElement("div",{className:"year"},l.tech)),c.a.createElement("div",{className:"list-info-items"},c.a.createElement("p",{className:"tagName"},"Role"),c.a.createElement("div",{className:"year"},l.role)),l.website&&c.a.createElement("div",{className:"list-info-items"},c.a.createElement("p",{className:"tagName"},"Website"),c.a.createElement("div",{className:"year"},T()(l.website))),l.styleguide&&c.a.createElement("div",{className:"list-info-items"},c.a.createElement("p",{className:"tagName"},"Styleguide"),c.a.createElement("div",{className:"year"},T()(l.styleguide)))))),l.introImage&&c.a.createElement("img",{className:"project-details-img-intro",src:l.introImage,alt:"intro"}),c.a.createElement("section",{className:"concept-section"},c.a.createElement("div",{className:"concept-description"},c.a.createElement("div",{className:"concept-title"},"Concept"),l.concept&&T()(l.concept)),c.a.createElement("div",{className:"concept-name"},c.a.createElement("div",{className:"concept-title"}),l.conceptName&&T()(l.conceptName))),l.resultImage&&c.a.createElement("img",{className:"project-details-img-result",src:l.resultImage,alt:"result"})):c.a.createElement("h2",null,"Fetching project, hold on")),c.a.createElement("div",{className:"pager"},p&&h&&c.a.createElement("div",{className:"navigate-projects"},c.a.createElement(o.a,{className:"prev",to:"/firebase-template/projects/"+p.id},"Previous project"),c.a.createElement("div",{className:"divider"},"|"),c.a.createElement(o.a,{className:"next",to:"/firebase-template/projects/"+h.id},"Next project"))))},P=function(e){return c.a.createElement("main",null,c.a.createElement("div",{className:"introPage"},c.a.createElement("div",{className:"name-wrapper"},c.a.createElement("div",{className:"name"},"eivind pham"),c.a.createElement("div",{className:"separator"},"|"),c.a.createElement(o.a,{to:"/firebase-template/projects",className:"nav-projects"},"projects")),c.a.createElement("p",null,"Digital designer based in Oslo, Norway")))},U=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){console.log("use effect"),u.auth().onAuthStateChanged((function(e){l(!!e)}))})),c.a.createElement("div",null,c.a.createElement(I,{signedIn:a}),c.a.createElement(o.b,{basepath:"/firebase-template"},c.a.createElement(P,{default:!0,path:"/home"}),c.a.createElement(v,{path:"/projects",signedIn:a}),c.a.createElement(D,{signedIn:a,path:"/projects/:id"}),c.a.createElement(N,{path:"/about"}),c.a.createElement(y,{signedIn:a,setSignedIn:l,path:"/login"}),c.a.createElement(k,{path:"/edit/:id"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.4a914807.chunk.js.map